(function(){"use strict";var e={8982:function(e,t,a){a(4114);var o=a(3751),s=a(1250),n=a(414),l=a.n(n),r=a(6278),d=a(6373);const i=(0,d.Ay)("https://sn-handover-app.azurewebsites.net"),c=(0,r.y$)({state:{pages:[],currentPage:null,toasts:[],toastId:0,searchResults:[]},mutations:{setPages(e,t){e.pages=t},setCurrentPage(e,t){e.currentPage=t},addPage(e,t){e.pages.push(t)},updatePage(e,t){const a=e.pages.findIndex((e=>e.id===t.id));-1!==a&&e.pages.splice(a,1,t)},addToast(e,t){const a=e.toastId++;t.id=a,e.toasts.push(t),setTimeout((()=>{e.toasts=e.toasts.filter((e=>e.id!==a))}),3e3)},deletePage(e,t){e.pages=e.pages.filter((e=>e.id!==t)),e.currentPage=null},setSearchResults(e,t){e.searchResults=t}},actions:{async fetchPages({commit:e,dispatch:t}){try{const a=await fetch("/api/records");if(!a.ok)throw new Error("Network response was not ok");const o=await a.json();e("setPages",o),o.length>0&&t("fetchPageDetails",o[0].id)}catch(a){console.error("Error fetching pages:",a),e("addToast",{message:`Fetch pages error: ${a.message}`,type:"danger"})}},async performSearch({commit:e},t){try{const a=await fetch(`/api/search?q=${encodeURIComponent(t)}`);if(!a.ok)throw new Error("Network response was not ok");const o=await a.json();e("setSearchResults",o),e("addToast",{message:"Search completed successfully.",type:"success"})}catch(a){console.error("Search error:",a),e("addToast",{message:`Search error: ${a.message}`,type:"danger"})}},async fetchPageDetails({commit:e},t){try{const o=await fetch(`/api/records/${t}`);if(!o.ok)throw new Error(`HTTP status: ${o.status}`);const s=await o.text();console.log("Received response text:",o);try{const t=JSON.parse(s);console.log("Received response:",t),e("setCurrentPage",t)}catch(a){console.error("Error parsing JSON:",a),e("addToast",{message:`JSON parse error: ${a.message}`,type:"danger"})}}catch(o){console.error("Network or response error:",o),e("addToast",{message:`Network error: ${o.message}`,type:"danger"})}},async updatePageDetails({commit:e},t){try{const a=await fetch(`/api/records/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Network response was not ok");const o=await a.json();e("setCurrentPage",o),e("updatePage",o),e("addToast",{message:"Page details updated successfully.",type:"success"})}catch(a){console.error("Error updating page details:",a),e("addToast",{message:`Update page error: ${a.message}`,type:"danger"})}},async copyHandover({commit:e}){try{const t=await fetch("/api/copy-handover",{method:"POST"}),a=await t.json();if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);e("addPage",a),e("setCurrentPage",a),e("addToast",{message:"Handover copied successfully.",type:"success"})}catch(t){console.error("Error creating handover from template:",t),e("addToast",{message:`Copy handover error: ${t.message}`,type:"danger"})}},async createHandoverTemplate({commit:e}){try{const t=await fetch("/api/copy-template",{method:"POST"}),a=await t.json();e("addPage",a),e("setCurrentPage",a),e("addToast",{message:"New template created successfully.",type:"success"})}catch(t){console.error("Error creating handover from template:",t),e("addToast",{message:`Create template error: ${t.message}`,type:"danger"})}},async deletePage({commit:e,dispatch:t},a){try{const o=await fetch(`/api/records/${a}`,{method:"DELETE"});if(!o.ok)throw new Error(`Failed to delete page: ${o.statusText}`);e("deletePage",a),e("addToast",{message:"Page deleted successfully.",type:"success"}),t("fetchPages")}catch(o){console.error("Error deleting page:",o),e("addToast",{message:`Delete page error: ${o.message}`,type:"danger"})}}}});i.on("pageCreated",(e=>{c.commit("addPage",e)})),i.on("pageUpdated",(e=>{c.commit("updatePage",e)})),i.on("pageDeleted",(e=>{c.commit("removePage",e.id)}));var u=c,m=a(641);function p(e,t,a,o,s,n){const l=(0,m.g2)("router-view");return(0,m.uX)(),(0,m.Wv)(l)}var b={name:"App",data(){return{isAuthenticated:!1}},created(){this.checkAuthentication()},methods:{checkAuthentication(){this.isAuthenticated=!!localStorage.getItem("userAuthenticated"),this.isAuthenticated||this.$router.push("/login")}}},h=a(6262);const v=(0,h.A)(b,[["render",p]]);var g=v,k=a(5220);const L={class:"login-container"};function f(e,t,a,o,s,n){return(0,m.uX)(),(0,m.CE)("div",L,[(0,m.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.login&&n.login(...e))},"Log in with Azure AD")])}var y={methods:{login(){window.location.href="/auth/signin"}}};const w=(0,h.A)(y,[["render",f],["__scopeId","data-v-9377a308"]]);var P=w,C=a(33);const E={id:"home-container"},N={class:"main-container"},S={class:"sidebar"},I={class:"content"},x={class:"toast-container position-fixed bottom-0 end-0 p-3"},A=["data-id"],U={class:"d-flex"},X={class:"toast-body"},R=(0,m.Lk)("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1);function T(e,t,a,o,s,n){const l=(0,m.g2)("NavBarComponent"),r=(0,m.g2)("SideBarComponent"),d=(0,m.g2)("shiftComp");return(0,m.uX)(),(0,m.CE)("div",E,[(0,m.bF)(l),(0,m.Lk)("div",N,[(0,m.Lk)("aside",S,[(0,m.bF)(r)]),(0,m.Lk)("div",I,[(0,m.bF)(d)])]),(0,m.Lk)("div",x,[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.toasts,(e=>((0,m.uX)(),(0,m.CE)("div",{key:e.id,"data-id":e.id,class:(0,C.C4)(["toast",`bg-${e.type}`])},[(0,m.Lk)("div",U,[(0,m.Lk)("div",X,(0,C.v_)(e.message),1),R])],10,A)))),128))])])}const q=e=>((0,m.Qi)("data-v-4d39361e"),e=e(),(0,m.jt)(),e),D={class:"navbar navbar-expand-lg bg-light"},M={class:"container-fluid"},V=q((()=>(0,m.Lk)("a",{class:"navbar-brand",href:"/"},"Handover pages",-1))),_=q((()=>(0,m.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,m.Lk)("span",{class:"navbar-toggler-icon"})],-1))),$={class:"collapse navbar-collapse",id:"navbarSupportedContent"},O=(0,m.Fv)('<ul class="navbar-nav me-auto mb-2 mb-lg-0" data-v-4d39361e><li class="nav-item" data-v-4d39361e><a class="nav-link active" aria-current="page" href="#" data-v-4d39361e>Templates</a></li><li class="nav-item" data-v-4d39361e><a class="nav-link" href="#" data-v-4d39361e>Shifts</a></li></ul>',1),F={key:0,class:"search-results"},J={class:"navbar-nav"},H={class:"nav-item dropdown"},j={class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Q=q((()=>(0,m.Lk)("ul",{class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdownMenuLink"},[(0,m.Lk)("li",null,[(0,m.Lk)("a",{class:"dropdown-item",href:"/auth/signout"},"Sign out")])],-1)));function B(e,t,a,s,n,l){return(0,m.uX)(),(0,m.CE)("nav",D,[(0,m.Lk)("div",M,[V,_,(0,m.Lk)("div",$,[O,(0,m.Lk)("form",{class:"d-flex",role:"search",onSubmit:t[2]||(t[2]=(0,o.D$)(((...t)=>e.performSearch&&e.performSearch(...t)),["prevent"]))},[(0,m.bo)((0,m.Lk)("input",{class:"form-control me-2","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),type:"search",placeholder:"Search","aria-label":"Search",onInput:t[1]||(t[1]=(...e)=>l.debounceSearch&&l.debounceSearch(...e))},null,544),[[o.Jo,n.searchQuery]])],32),e.searchResults.length?((0,m.uX)(),(0,m.CE)("div",F,[(0,m.Lk)("ul",null,[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.searchResults,(e=>((0,m.uX)(),(0,m.CE)("li",{key:e.id},(0,C.v_)(e.title),1)))),128))])])):(0,m.Q3)("",!0),(0,m.Lk)("ul",J,[(0,m.Lk)("li",H,[(0,m.Lk)("a",j,(0,C.v_)(n.userProfile.displayName),1),Q])])])])])}var K=a(2543),z={name:"NavBarComponent",data(){return{userProfile:{displayName:localStorage.getItem("user")},searchQuery:""}},computed:{...(0,r.aH)(["searchResults"])},methods:{...(0,r.i0)(["performSearch"]),debounceSearch:(0,K.debounce)((function(){this.performSearch(this.searchQuery)}),300)}};const W=(0,h.A)(z,[["render",B],["__scopeId","data-v-4d39361e"]]);var G=W;const Y=e=>((0,m.Qi)("data-v-581081cc"),e=e(),(0,m.jt)(),e),Z={class:"sidebar-comp d-flex flex-column"},ee={class:"flex-shrink-0 p-3 bg-light"},te={class:"pb-3 mb-3 border-bottom"},ae={class:"nav-pills-wrapper flex-grow-1 overflow-auto"},oe={class:"nav nav-pills flex-column"},se=["onClick"],ne={class:"dropup"},le=Y((()=>(0,m.Lk)("button",{class:"btn btn-secondary dropdown-toggle w-100",type:"button",id:"dropupMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"}," New Page ",-1))),re={class:"dropdown-menu w-100","aria-labelledby":"dropupMenuButton"};function de(e,t,a,s,n,l){return(0,m.uX)(),(0,m.CE)("div",Z,[(0,m.Lk)("div",ee,[(0,m.Lk)("div",te,[(0,m.bo)((0,m.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),type:"text",class:"form-control",placeholder:"Enter page title"},null,512),[[o.Jo,n.searchQuery]])])]),(0,m.Lk)("div",ae,[(0,m.Lk)("ul",oe,[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(l.filteredPages,(t=>((0,m.uX)(),(0,m.CE)("li",{class:"nav-item",key:t.id},[(0,m.Lk)("a",{href:"#",class:(0,C.C4)(["nav-link link-dark",{active:t.id===e.currentPage?.id}]),onClick:e=>l.loadPage(t.id)},(0,C.v_)(t.title),11,se)])))),128))])]),(0,m.Lk)("div",ne,[le,(0,m.Lk)("ul",re,[(0,m.Lk)("li",null,[(0,m.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[1]||(t[1]=(...e)=>l.createNewHandoverWithData&&l.createNewHandoverWithData(...e))},"Copy last handover")]),(0,m.Lk)("li",null,[(0,m.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[2]||(t[2]=(...e)=>l.createNewTemplateHandover&&l.createNewTemplateHandover(...e))},"Create a new page")])])])])}var ie={name:"SidebarComponent",data(){return{searchQuery:""}},computed:{...(0,r.aH)(["pages","currentPage"]),filteredPages(){return this.pages.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}},methods:{...(0,r.i0)(["fetchPages","fetchPageDetails","createHandoverTemplate","copyHandover","addToast"]),loadPage(e){this.fetchPageDetails(e)},createNewHandoverWithData(){this.copyHandover().then((()=>{this.addToast({message:"New handover created successfully.",type:"success"})})).catch((e=>{this.addToast({message:`Error: ${e.message}`,type:"danger"})}))},createNewTemplateHandover(){this.createHandoverTemplate().then((()=>{this.addToast({message:"New template created successfully.",type:"success"})})).catch((e=>{this.addToast({message:`Failed to create template ${e.message}`,type:"danger"})}))}},created(){this.fetchPages()}};const ce=(0,h.A)(ie,[["render",de],["__scopeId","data-v-581081cc"]]);var ue=ce;const me=e=>((0,m.Qi)("data-v-08544684"),e=e(),(0,m.jt)(),e),pe={id:"content-container",class:"container mt-4"},be={key:0,class:"main-container"},he={class:"header"},ve={class:"dropwdowns-opt"},ge=(0,m.Fv)('<div class="dropdown-add" data-v-08544684><button class="btn btn-link text-decoration-none" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" data-v-08544684><i class="bi bi-plus-lg" data-v-08544684></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton" data-v-08544684><li data-v-08544684><a class="dropdown-item" id="add-inc-btn" href="#" data-bs-toggle="modal" data-bs-target="#addIncidentModal" data-v-08544684>Add Incident</a></li><li data-v-08544684><a class="dropdown-item" id="add-prb-btn" href="#" data-bs-toggle="modal" data-bs-target="#addProblemModal" data-v-08544684>Add Problem</a></li><li data-v-08544684><a class="dropdown-item" id="add-chg-btn" href="#" data-bs-toggle="modal" data-bs-target="#addChangeModal" data-v-08544684>Add Change</a></li><li data-v-08544684><a class="dropdown-item" id="add-req-btn" href="#" data-bs-toggle="modal" data-bs-target="#addRequestModal" data-v-08544684>Add Service Request</a></li></ul></div>',1),ke={class:"dropdown"},Le=me((()=>(0,m.Lk)("button",{class:"btn btn-link text-decoration-none",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,m.Lk)("i",{class:"bi bi-three-dots-vertical"})],-1))),fe={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton"},ye=me((()=>(0,m.Lk)("li",null,[(0,m.Lk)("hr",{class:"dropdown-divider"})],-1))),we=me((()=>(0,m.Lk)("li",null,[(0,m.Lk)("a",{class:"dropdown-item",id:"remove-btn",href:"#","data-bs-toggle":"modal","data-bs-target":"#removePageModal"},"Remove page")],-1))),Pe={class:"modal fade",id:"addIncidentModal",tabindex:"-1","aria-labelledby":"addIncidentModalLabel","aria-hidden":"true"},Ce={class:"modal-dialog"},Ee={class:"modal-content"},Ne=me((()=>(0,m.Lk)("div",{class:"modal-header"},[(0,m.Lk)("h5",{class:"modal-title",id:"addIncidentModalLabel"},"Add Incident"),(0,m.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Se={class:"modal-body"},Ie={class:"mb-3"},xe=me((()=>(0,m.Lk)("label",{for:"clientSelect",class:"form-label"},"Client",-1))),Ae=["value"],Ue={class:"mb-3"},Xe=me((()=>(0,m.Lk)("label",{for:"incidentNumber",class:"form-label"},"Incident Number",-1))),Re={class:"mb-3"},Te=me((()=>(0,m.Lk)("label",{for:"status",class:"form-label"},"Status",-1))),qe=me((()=>(0,m.Lk)("option",{value:"Active"},"Active",-1))),De=me((()=>(0,m.Lk)("option",{value:"Awaiting user info"},"Awaiting User Info",-1))),Me=me((()=>(0,m.Lk)("option",{value:"Awaiting third party"},"Awaiting Third Party",-1))),Ve=me((()=>(0,m.Lk)("option",{value:"Resolved"},"Resolved",-1))),_e=[qe,De,Me,Ve],$e={class:"mb-3"},Oe=me((()=>(0,m.Lk)("label",{for:"dateOpened",class:"form-label"},"Date Opened",-1))),Fe={class:"mb-3"},Je=me((()=>(0,m.Lk)("label",{for:"priority",class:"form-label"},"Priority",-1))),He=me((()=>(0,m.Lk)("option",{value:"P4 - Low"},"P4 - Low",-1))),je=me((()=>(0,m.Lk)("option",{value:"P3 - moderate"},"P3 - moderate",-1))),Qe=me((()=>(0,m.Lk)("option",{value:"P2 - high"},"P2 - high",-1))),Be=me((()=>(0,m.Lk)("option",{value:"P1 - Critical"},"P1 - Critical",-1))),Ke=[He,je,Qe,Be],ze={class:"mb-3"},We=me((()=>(0,m.Lk)("label",{for:"mainProblem",class:"form-label"},"Main Problem",-1))),Ge={class:"mb-3"},Ye=me((()=>(0,m.Lk)("label",{for:"notes",class:"form-label"},"Notes",-1))),Ze=me((()=>(0,m.Lk)("div",{class:"modal-footer"},[(0,m.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,m.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))),et={class:"modal fade",id:"addProblemModal",tabindex:"-1","aria-labelledby":"addProblemModalLabel","aria-hidden":"true"},tt={class:"modal-dialog"},at={class:"modal-content"},ot=me((()=>(0,m.Lk)("div",{class:"modal-header"},[(0,m.Lk)("h5",{class:"modal-title",id:"addProblemModalLabel"},"Add Problem"),(0,m.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),st={class:"modal-body"},nt={class:"mb-3"},lt=me((()=>(0,m.Lk)("label",{for:"clientSelect",class:"form-label"},"Client",-1))),rt=["value"],dt={class:"mb-3"},it=me((()=>(0,m.Lk)("label",{for:"problemNumber",class:"form-label"},"Problem Number",-1))),ct={class:"mb-3"},ut=me((()=>(0,m.Lk)("label",{for:"status",class:"form-label"},"Status",-1))),mt=(0,m.Fv)('<option value="Evaluate" data-v-08544684>Evaluate</option><option value="On Hold" data-v-08544684>On Hold</option><option value="Investigate" data-v-08544684>Investigate</option><option value="Review" data-v-08544684>Review</option><option value="Remediate" data-v-08544684>Remediate</option><option value="Resolved" data-v-08544684>Resolved</option>',6),pt=[mt],bt={class:"mb-3"},ht=me((()=>(0,m.Lk)("label",{for:"priority",class:"form-label"},"Priority",-1))),vt=me((()=>(0,m.Lk)("option",{value:"P4 - Low"},"P4 - Low",-1))),gt=me((()=>(0,m.Lk)("option",{value:"P3 - moderate"},"P3 - moderate",-1))),kt=me((()=>(0,m.Lk)("option",{value:"P2 - high"},"P2 - high",-1))),Lt=me((()=>(0,m.Lk)("option",{value:"P1 - Critical"},"P1 - Critical",-1))),ft=[vt,gt,kt,Lt],yt={class:"mb-3"},wt=me((()=>(0,m.Lk)("label",{for:"rca",class:"form-label"},"Root cause analysis",-1))),Pt={class:"mb-3"},Ct=me((()=>(0,m.Lk)("label",{for:"notes",class:"form-label"},"Notes",-1))),Et=me((()=>(0,m.Lk)("div",{class:"modal-footer"},[(0,m.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,m.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))),Nt={class:"modal fade",id:"addChangeModal",tabindex:"-1","aria-labelledby":"addChangeModalLabel","aria-hidden":"true"},St={class:"modal-dialog"},It={class:"modal-content"},xt=me((()=>(0,m.Lk)("div",{class:"modal-header"},[(0,m.Lk)("h5",{class:"modal-title",id:"addChangeModalLabel"},"Add Change"),(0,m.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),At={class:"modal-body"},Ut={class:"mb-3"},Xt=me((()=>(0,m.Lk)("label",{for:"clientSelect",class:"form-label"},"Client",-1))),Rt=["value"],Tt={class:"mb-3"},qt=me((()=>(0,m.Lk)("label",{for:"changeNumber",class:"form-label"},"Change Number",-1))),Dt={class:"mb-3"},Mt=me((()=>(0,m.Lk)("label",{for:"status",class:"form-label"},"Status",-1))),Vt=(0,m.Fv)('<option value="New" data-v-08544684>New</option><option value="Assess" data-v-08544684>Assess</option><option value="Authorize" data-v-08544684>Authorize</option><option value="Scheduled" data-v-08544684>Scheduled</option><option value="Implement" data-v-08544684>Implement</option><option value="Review" data-v-08544684>Review</option><option value="Closed" data-v-08544684>Closed</option>',7),_t=[Vt],$t={class:"mb-3"},Ot=me((()=>(0,m.Lk)("label",{for:"startDate",class:"form-label"},"Start Date",-1))),Ft={class:"mb-3"},Jt=me((()=>(0,m.Lk)("label",{for:"endDate",class:"form-label"},"End Date",-1))),Ht={class:"mb-3"},jt=me((()=>(0,m.Lk)("label",{for:"notes",class:"form-label"},"Notes",-1))),Qt=me((()=>(0,m.Lk)("div",{class:"modal-footer"},[(0,m.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,m.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))),Bt={class:"modal fade",id:"addRequestModal",tabindex:"-1","aria-labelledby":"addRequestModalLabel","aria-hidden":"true"},Kt={class:"modal-dialog"},zt={class:"modal-content"},Wt=me((()=>(0,m.Lk)("div",{class:"modal-header"},[(0,m.Lk)("h5",{class:"modal-title",id:"addRequestModalLabel"},"Add Service Request"),(0,m.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Gt={class:"modal-body"},Yt={class:"mb-3"},Zt=me((()=>(0,m.Lk)("label",{for:"clientSelect",class:"form-label"},"Client",-1))),ea=["value"],ta={class:"mb-3"},aa=me((()=>(0,m.Lk)("label",{for:"ritmNumber",class:"form-label"},"Service Request Number",-1))),oa={class:"mb-3"},sa=me((()=>(0,m.Lk)("label",{for:"notes",class:"form-label"},"Short request description",-1))),na={class:"mb-3"},la=me((()=>(0,m.Lk)("label",{for:"notes",class:"form-label"},"Notes",-1))),ra=me((()=>(0,m.Lk)("div",{class:"modal-footer"},[(0,m.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,m.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))),da={class:"modal fade",id:"removePageModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ia={class:"modal-dialog modal-dialog-centered"},ca={class:"modal-content"},ua={class:"modal-body"},ma={class:"modal-footer"},pa=me((()=>(0,m.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1))),ba={class:"toast-container position-fixed bottom-0 end-0 p-3"},ha={id:"liveToast",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},va=me((()=>(0,m.Lk)("div",{class:"toast-header"},[(0,m.Lk)("strong",{class:"me-auto"},"Bootstrap"),(0,m.Lk)("small",null,"11 mins ago"),(0,m.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1))),ga={class:"toast-body"},ka=me((()=>(0,m.Lk)("h6",null,"Engineers on Shift",-1))),La={key:0},fa={class:"table table-fixed"},ya=me((()=>(0,m.Lk)("thead",null,[(0,m.Lk)("tr",null,[(0,m.Lk)("th",null,"Incident Number"),(0,m.Lk)("th",null,"Status"),(0,m.Lk)("th",null,"Priority"),(0,m.Lk)("th",null,"Main Problem"),(0,m.Lk)("th",null,"Notes")])],-1))),wa={key:0},Pa={key:1},Ca=["onUpdate:modelValue"],Ea=me((()=>(0,m.Lk)("option",{value:"Active"},"Active",-1))),Na=me((()=>(0,m.Lk)("option",{value:"Awaiting user info"},"Awaiting User Info",-1))),Sa=me((()=>(0,m.Lk)("option",{value:"Awaiting third party"},"Awaiting Third Party",-1))),Ia=me((()=>(0,m.Lk)("option",{value:"Resolved"},"Resolved",-1))),xa=[Ea,Na,Sa,Ia],Aa={key:0},Ua={key:1},Xa=["onUpdate:modelValue"],Ra=me((()=>(0,m.Lk)("option",{value:"P4 - Low"},"P4 - Low",-1))),Ta=me((()=>(0,m.Lk)("option",{value:"P3 - moderate"},"P3 - moderate",-1))),qa=me((()=>(0,m.Lk)("option",{value:"P2 - high"},"P2 - high",-1))),Da=me((()=>(0,m.Lk)("option",{value:"P1 - Critical"},"P1 - Critical",-1))),Ma=[Ra,Ta,qa,Da],Va={key:0},_a={key:1},$a=["onUpdate:modelValue"],Oa={key:0},Fa={key:1},Ja=["onUpdate:modelValue"],Ha={key:1},ja={class:"table table-fixed"},Qa=me((()=>(0,m.Lk)("thead",null,[(0,m.Lk)("tr",null,[(0,m.Lk)("th",null,"Problem Number"),(0,m.Lk)("th",null,"Status"),(0,m.Lk)("th",null,"Priority"),(0,m.Lk)("th",null,"Root Cause analysis"),(0,m.Lk)("th",null,"Notes")])],-1))),Ba={key:0},Ka={key:1},za=["onUpdate:modelValue"],Wa=me((()=>(0,m.Lk)("option",{value:"Active"},"Active",-1))),Ga=me((()=>(0,m.Lk)("option",{value:"Awaiting user info"},"Awaiting User Info",-1))),Ya=me((()=>(0,m.Lk)("option",{value:"Awaiting third party"},"Awaiting Third Party",-1))),Za=me((()=>(0,m.Lk)("option",{value:"Resolved"},"Resolved",-1))),eo=[Wa,Ga,Ya,Za],to={key:0},ao={key:1},oo=["onUpdate:modelValue"],so=me((()=>(0,m.Lk)("option",{value:"P4 - Low"},"P4 - Low",-1))),no=me((()=>(0,m.Lk)("option",{value:"P3 - moderate"},"P3 - moderate",-1))),lo=me((()=>(0,m.Lk)("option",{value:"P2 - high"},"P2 - high",-1))),ro=me((()=>(0,m.Lk)("option",{value:"P1 - Critical"},"P1 - Critical",-1))),io=[so,no,lo,ro],co={key:0},uo={key:1},mo=["onUpdate:modelValue"],po={key:0},bo={key:1},ho=["onUpdate:modelValue"],vo={key:2},go={class:"table table-fixed"},ko=me((()=>(0,m.Lk)("thead",null,[(0,m.Lk)("tr",null,[(0,m.Lk)("th",null,"Change Number"),(0,m.Lk)("th",null,"Status"),(0,m.Lk)("th",null,"Start Date"),(0,m.Lk)("th",null,"End Date"),(0,m.Lk)("th",null,"Notes")])],-1))),Lo={key:0},fo={key:1},yo=["onUpdate:modelValue"],wo=(0,m.Fv)('<option value="New" data-v-08544684>New</option><option value="Assess" data-v-08544684>Assess</option><option value="Authorize" data-v-08544684>Authorize</option><option value="Scheduled" data-v-08544684>Scheduled</option><option value="Implement" data-v-08544684>Implement</option><option value="Review" data-v-08544684>Review</option><option value="Closed" data-v-08544684>Closed</option>',7),Po=[wo],Co={key:0},Eo={key:1},No=["onUpdate:modelValue"],So={key:0},Io={key:1},xo=["onUpdate:modelValue"],Ao={key:0},Uo={key:1},Xo=["onUpdate:modelValue"],Ro={key:3},To={class:"table table-fixed"},qo=me((()=>(0,m.Lk)("thead",null,[(0,m.Lk)("tr",null,[(0,m.Lk)("th",null,"Request Number"),(0,m.Lk)("th",null,"Short request description"),(0,m.Lk)("th",null,"Notes")])],-1))),Do={key:0},Mo={key:1},Vo=["onUpdate:modelValue"],_o={key:0},$o={key:1},Oo=["onUpdate:modelValue"],Fo={key:1};function Jo(e,t,a,s,n,l){const r=(0,m.g2)("h7");return(0,m.uX)(),(0,m.CE)("div",pe,[e.currentPage?((0,m.uX)(),(0,m.CE)("div",be,[(0,m.Lk)("div",he,[(0,m.Lk)("h1",null,(0,C.v_)(e.currentPage.title),1),(0,m.Lk)("div",ve,[ge,(0,m.Lk)("div",ke,[Le,(0,m.Lk)("ul",fe,[(0,m.Lk)("li",null,[(0,m.Lk)("a",{class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>l.toggleEditMode&&l.toggleEditMode(...e))},(0,C.v_)(n.editMode?"Save":"Edit"),1)]),ye,we])])])]),(0,m.Lk)("div",Pe,[(0,m.Lk)("div",Ce,[(0,m.Lk)("div",Ee,[Ne,(0,m.Lk)("div",Se,[(0,m.Lk)("form",{onSubmit:t[8]||(t[8]=(0,o.D$)(((...e)=>l.saveIncident&&l.saveIncident(...e)),["prevent"]))},[(0,m.Lk)("div",Ie,[xe,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"clientSelect","onUpdate:modelValue":t[1]||(t[1]=e=>n.newIncident.client=e),required:""},[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.currentPage.clients,((e,t)=>((0,m.uX)(),(0,m.CE)("option",{key:t,value:t},(0,C.v_)(t),9,Ae)))),128))],512),[[o.u1,n.newIncident.client]])]),(0,m.Lk)("div",Ue,[Xe,(0,m.bo)((0,m.Lk)("input",{type:"text",class:"form-control",id:"incidentNumber","onUpdate:modelValue":t[2]||(t[2]=e=>n.newIncident.incNumber=e),required:""},null,512),[[o.Jo,n.newIncident.incNumber]])]),(0,m.Lk)("div",Re,[Te,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"status","onUpdate:modelValue":t[3]||(t[3]=e=>n.newIncident.status=e),required:""},_e,512),[[o.u1,n.newIncident.status]])]),(0,m.Lk)("div",$e,[Oe,(0,m.bo)((0,m.Lk)("input",{type:"datetime-local",class:"form-control",id:"dateOpened","onUpdate:modelValue":t[4]||(t[4]=e=>n.newIncident.dateOpened=e),required:""},null,512),[[o.Jo,n.newIncident.dateOpened]])]),(0,m.Lk)("div",Fe,[Je,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"priority","onUpdate:modelValue":t[5]||(t[5]=e=>n.newIncident.priority=e),required:""},Ke,512),[[o.u1,n.newIncident.priority]])]),(0,m.Lk)("div",ze,[We,(0,m.bo)((0,m.Lk)("input",{type:"text",class:"form-control",id:"mainProblem","onUpdate:modelValue":t[6]||(t[6]=e=>n.newIncident.mainProblem=e),required:""},null,512),[[o.Jo,n.newIncident.mainProblem]])]),(0,m.Lk)("div",Ge,[Ye,(0,m.bo)((0,m.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[7]||(t[7]=e=>n.newIncident.notes=e),rows:"3"},null,512),[[o.Jo,n.newIncident.notes]])]),Ze],32)])])])]),(0,m.Lk)("div",et,[(0,m.Lk)("div",tt,[(0,m.Lk)("div",at,[ot,(0,m.Lk)("div",st,[(0,m.Lk)("form",{onSubmit:t[15]||(t[15]=(0,o.D$)(((...e)=>l.saveProblem&&l.saveProblem(...e)),["prevent"]))},[(0,m.Lk)("div",nt,[lt,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"clientSelect","onUpdate:modelValue":t[9]||(t[9]=e=>n.newProblem.client=e),required:""},[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.currentPage.clients,((e,t)=>((0,m.uX)(),(0,m.CE)("option",{key:t,value:t},(0,C.v_)(t),9,rt)))),128))],512),[[o.u1,n.newProblem.client]])]),(0,m.Lk)("div",dt,[it,(0,m.bo)((0,m.Lk)("input",{type:"text",class:"form-control",id:"problemNumber","onUpdate:modelValue":t[10]||(t[10]=e=>n.newProblem.prbNumber=e),required:""},null,512),[[o.Jo,n.newProblem.prbNumber]])]),(0,m.Lk)("div",ct,[ut,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"status","onUpdate:modelValue":t[11]||(t[11]=e=>n.newProblem.status=e),required:""},pt,512),[[o.u1,n.newProblem.status]])]),(0,m.Lk)("div",bt,[ht,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"priority","onUpdate:modelValue":t[12]||(t[12]=e=>n.newProblem.priority=e),required:""},ft,512),[[o.u1,n.newProblem.priority]])]),(0,m.Lk)("div",yt,[wt,(0,m.bo)((0,m.Lk)("input",{type:"text",class:"form-control",id:"rca","onUpdate:modelValue":t[13]||(t[13]=e=>n.newProblem.rca=e),required:""},null,512),[[o.Jo,n.newProblem.rca]])]),(0,m.Lk)("div",Pt,[Ct,(0,m.bo)((0,m.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[14]||(t[14]=e=>n.newProblem.notes=e),rows:"3"},null,512),[[o.Jo,n.newProblem.notes]])]),Et],32)])])])]),(0,m.Lk)("div",Nt,[(0,m.Lk)("div",St,[(0,m.Lk)("div",It,[xt,(0,m.Lk)("div",At,[(0,m.Lk)("form",{onSubmit:t[22]||(t[22]=(0,o.D$)(((...e)=>l.saveChange&&l.saveChange(...e)),["prevent"]))},[(0,m.Lk)("div",Ut,[Xt,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"clientSelect","onUpdate:modelValue":t[16]||(t[16]=e=>n.newChange.client=e),required:""},[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.currentPage.clients,((e,t)=>((0,m.uX)(),(0,m.CE)("option",{key:t,value:t},(0,C.v_)(t),9,Rt)))),128))],512),[[o.u1,n.newChange.client]])]),(0,m.Lk)("div",Tt,[qt,(0,m.bo)((0,m.Lk)("input",{type:"text",class:"form-control",id:"changeNumber","onUpdate:modelValue":t[17]||(t[17]=e=>n.newChange.chgNumber=e),required:""},null,512),[[o.Jo,n.newChange.chgNumber]])]),(0,m.Lk)("div",Dt,[Mt,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"status","onUpdate:modelValue":t[18]||(t[18]=e=>n.newChange.status=e),required:""},_t,512),[[o.u1,n.newChange.status]])]),(0,m.Lk)("div",$t,[Ot,(0,m.bo)((0,m.Lk)("input",{type:"datetime-local",class:"form-control",id:"startDate","onUpdate:modelValue":t[19]||(t[19]=e=>n.newChange.startDate=e),required:""},null,512),[[o.Jo,n.newChange.startDate]])]),(0,m.Lk)("div",Ft,[Jt,(0,m.bo)((0,m.Lk)("input",{type:"datetime-local",class:"form-control",id:"endDate","onUpdate:modelValue":t[20]||(t[20]=e=>n.newChange.endDate=e),required:""},null,512),[[o.Jo,n.newChange.endDate]])]),(0,m.Lk)("div",Ht,[jt,(0,m.bo)((0,m.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[21]||(t[21]=e=>n.newChange.notes=e),rows:"3"},null,512),[[o.Jo,n.newChange.notes]])]),Qt],32)])])])]),(0,m.Lk)("div",Bt,[(0,m.Lk)("div",Kt,[(0,m.Lk)("div",zt,[Wt,(0,m.Lk)("div",Gt,[(0,m.Lk)("form",{onSubmit:t[27]||(t[27]=(0,o.D$)(((...e)=>l.saveRequest&&l.saveRequest(...e)),["prevent"]))},[(0,m.Lk)("div",Yt,[Zt,(0,m.bo)((0,m.Lk)("select",{class:"form-select",id:"clientSelect","onUpdate:modelValue":t[23]||(t[23]=e=>n.newRequest.client=e),required:""},[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.currentPage.clients,((e,t)=>((0,m.uX)(),(0,m.CE)("option",{key:t,value:t},(0,C.v_)(t),9,ea)))),128))],512),[[o.u1,n.newRequest.client]])]),(0,m.Lk)("div",ta,[aa,(0,m.bo)((0,m.Lk)("input",{type:"text",class:"form-control",id:"ritmNumber","onUpdate:modelValue":t[24]||(t[24]=e=>n.newRequest.ritmNumber=e),required:""},null,512),[[o.Jo,n.newRequest.ritmNumber]])]),(0,m.Lk)("div",oa,[sa,(0,m.bo)((0,m.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[25]||(t[25]=e=>n.newRequest.desc=e),rows:"3"},null,512),[[o.Jo,n.newRequest.desc]])]),(0,m.Lk)("div",na,[la,(0,m.bo)((0,m.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[26]||(t[26]=e=>n.newRequest.notes=e),rows:"3"},null,512),[[o.Jo,n.newRequest.notes]])]),ra],32)])])])]),(0,m.Lk)("div",da,[(0,m.Lk)("div",ia,[(0,m.Lk)("div",ca,[(0,m.Lk)("div",ua," Are you sure you want to remove "+(0,C.v_)(e.currentPage.title)+"? This action cannot be undone. ",1),(0,m.Lk)("div",ma,[pa,(0,m.Lk)("button",{type:"button",class:"btn btn-primary",id:"liveToastBtn",onClick:t[28]||(t[28]=(...e)=>l.removePage&&l.removePage(...e))},"Remove")])])])]),(0,m.Lk)("div",ba,[(0,m.Lk)("div",ha,[va,(0,m.Lk)("div",ga,(0,C.v_)(e.currentPage.title)+" successfully deleted. ",1)])]),(0,m.Lk)("div",null,[ka,(0,m.Lk)("ul",null,[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.currentPage.engineersOnShift,(e=>((0,m.uX)(),(0,m.CE)("li",{key:e.id},(0,C.v_)(e.name),1)))),128))])]),((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.currentPage.clients,((e,t)=>((0,m.uX)(),(0,m.CE)("div",{key:t},[(0,m.Lk)("h6",null,(0,C.v_)(t),1),e.incidents.length>0?((0,m.uX)(),(0,m.CE)("div",La,[(0,m.bF)(r,null,{default:(0,m.k6)((()=>[(0,m.eW)("Incidents")])),_:1}),(0,m.Lk)("table",fa,[ya,(0,m.Lk)("tbody",null,[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.incidents,(e=>((0,m.uX)(),(0,m.CE)("tr",{key:e.incNumber},[(0,m.Lk)("td",null,(0,C.v_)(e.incNumber),1),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",Pa,[(0,m.bo)((0,m.Lk)("select",{"onUpdate:modelValue":t=>e.status=t},xa,8,Ca),[[o.u1,e.status]])])):((0,m.uX)(),(0,m.CE)("div",wa,(0,C.v_)(e.status),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",Ua,[(0,m.bo)((0,m.Lk)("select",{"onUpdate:modelValue":t=>e.priority=t},Ma,8,Xa),[[o.u1,e.priority]])])):((0,m.uX)(),(0,m.CE)("div",Aa,(0,C.v_)(e.priority),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",_a,[(0,m.bo)((0,m.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.mainProblem=t,class:"form-control custom-textarea"},null,8,$a),[[o.Jo,e.mainProblem]])])):((0,m.uX)(),(0,m.CE)("div",Va,(0,C.v_)(e.mainProblem),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",Fa,[(0,m.bo)((0,m.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.notes=t,class:"form-control custom-textarea"},null,8,Ja),[[o.Jo,e.notes]])])):((0,m.uX)(),(0,m.CE)("div",Oa,(0,C.v_)(e.notes),1))])])))),128))])])])):(0,m.Q3)("",!0),e.problems.length>0?((0,m.uX)(),(0,m.CE)("div",Ha,[(0,m.bF)(r,null,{default:(0,m.k6)((()=>[(0,m.eW)("Problems")])),_:1}),(0,m.Lk)("table",ja,[Qa,(0,m.Lk)("tbody",null,[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.problems,(e=>((0,m.uX)(),(0,m.CE)("tr",{key:e.prbNumber},[(0,m.Lk)("td",null,(0,C.v_)(e.prbNumber),1),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",Ka,[(0,m.bo)((0,m.Lk)("select",{"onUpdate:modelValue":t=>e.status=t},eo,8,za),[[o.u1,e.status]])])):((0,m.uX)(),(0,m.CE)("div",Ba,(0,C.v_)(e.status),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",ao,[(0,m.bo)((0,m.Lk)("select",{"onUpdate:modelValue":t=>e.priority=t},io,8,oo),[[o.u1,e.priority]])])):((0,m.uX)(),(0,m.CE)("div",to,(0,C.v_)(e.priority),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",uo,[(0,m.bo)((0,m.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.rca=t,class:"form-control custom-textarea"},null,8,mo),[[o.Jo,e.rca]])])):((0,m.uX)(),(0,m.CE)("div",co,(0,C.v_)(e.rca),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",bo,[(0,m.bo)((0,m.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.notes=t,class:"form-control custom-textarea"},null,8,ho),[[o.Jo,e.notes]])])):((0,m.uX)(),(0,m.CE)("div",po,(0,C.v_)(e.notes),1))])])))),128))])])])):(0,m.Q3)("",!0),e.changes.length>0?((0,m.uX)(),(0,m.CE)("div",vo,[(0,m.bF)(r,null,{default:(0,m.k6)((()=>[(0,m.eW)("Changes")])),_:1}),(0,m.Lk)("table",go,[ko,(0,m.Lk)("tbody",null,[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.changes,(e=>((0,m.uX)(),(0,m.CE)("tr",{key:e.chgNumber},[(0,m.Lk)("td",null,(0,C.v_)(e.chgNumber),1),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",fo,[(0,m.bo)((0,m.Lk)("select",{"onUpdate:modelValue":t=>e.status=t},Po,8,yo),[[o.u1,e.status]])])):((0,m.uX)(),(0,m.CE)("div",Lo,(0,C.v_)(e.status),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",Eo,[(0,m.bo)((0,m.Lk)("input",{type:"datetime-local",class:"form-control",id:"startDate","onUpdate:modelValue":t=>e.startDate=t},null,8,No),[[o.Jo,e.startDate]])])):((0,m.uX)(),(0,m.CE)("div",Co,(0,C.v_)(e.startDate),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",Io,[(0,m.bo)((0,m.Lk)("input",{type:"datetime-local",class:"form-control",id:"endDate","onUpdate:modelValue":t=>e.endDate=t},null,8,xo),[[o.Jo,e.endDate]])])):((0,m.uX)(),(0,m.CE)("div",So,(0,C.v_)(e.endDate),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",Uo,[(0,m.bo)((0,m.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.notes=t,class:"form-control custom-textarea"},null,8,Xo),[[o.Jo,e.notes]])])):((0,m.uX)(),(0,m.CE)("div",Ao,(0,C.v_)(e.notes),1))])])))),128))])])])):(0,m.Q3)("",!0),e.serviceRequests.length>0?((0,m.uX)(),(0,m.CE)("div",Ro,[(0,m.bF)(r,null,{default:(0,m.k6)((()=>[(0,m.eW)("Service Requests")])),_:1}),(0,m.Lk)("table",To,[qo,(0,m.Lk)("tbody",null,[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.serviceRequests,(e=>((0,m.uX)(),(0,m.CE)("tr",{key:e.ritmNumber},[(0,m.Lk)("td",null,(0,C.v_)(e.ritmNumber),1),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",Mo,[(0,m.bo)((0,m.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.desc=t,class:"form-control custom-textarea"},null,8,Vo),[[o.Jo,e.desc]])])):((0,m.uX)(),(0,m.CE)("div",Do,(0,C.v_)(e.desc),1))]),(0,m.Lk)("td",null,[n.editMode?((0,m.uX)(),(0,m.CE)("div",$o,[(0,m.bo)((0,m.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.notes=t,class:"form-control custom-textarea"},null,8,Oo),[[o.Jo,e.notes]])])):((0,m.uX)(),(0,m.CE)("div",_o,(0,C.v_)(e.notes),1))])])))),128))])])])):(0,m.Q3)("",!0)])))),128))])):((0,m.uX)(),(0,m.CE)("div",Fo,"No data available"))])}var Ho={data(){return{editMode:!1,newIncident:{client:"",incNumber:"",status:"Active",dateOpened:"",priority:"P4 - Low",mainProblem:"",notes:""},newProblem:{client:"",prbNumber:"",status:"Evaluate",priority:"P4 - Low",rca:"",notes:""},newChange:{client:"",chgNumber:"",status:"New",startDate:"",endDate:"",notes:""},newRequest:{client:"",ritmNumber:"",desc:"",notes:""}}},computed:{...(0,r.aH)(["currentPage","pages"])},methods:{...(0,r.i0)(["fetchPageDetails","updatePageDetails","deletePage","addToast","fetchPages","setPages","setCurrentPage"]),toggleEditMode(){this.editMode&&(this.updatePageDetails(this.currentPage),this.$socket.emit("editPage",this.currentPage)),this.editMode=!this.editMode},async saveIncident(){const e=this.currentPage.clients[this.newIncident.client];e.incidents.push({incNumber:this.newIncident.incNumber,status:this.newIncident.status,dateOpened:this.newIncident.dateOpened,priority:this.newIncident.priority,mainProblem:this.newIncident.mainProblem,notes:this.newIncident.notes});try{await this.updatePageDetails(this.currentPage),this.$socket.emit("editPage",this.currentPage),this.resetNewIncident(),this.$router.push({name:"HomePage"})}catch(t){console.error("Error saving incident:",t),this.addToast({message:"Error saving incident:",type:"danger"})}},resetNewIncident(){this.newIncident={client:"",incNumber:"",status:"Active",dateOpened:"",priority:"P4 - Low",mainProblem:"",notes:""}},async saveProblem(){const e=this.currentPage.clients[this.newProblem.client];e.problems.push({prbNumber:this.newProblem.prbNumber,status:this.newProblem.status,priority:this.newProblem.priority,rca:this.newProblem.rca,notes:this.newProblem.notes});try{await this.updatePageDetails(this.currentPage),this.$socket.emit("editPage",this.currentPage),this.resetNewProblem(),this.$router.push({name:"HomePage"})}catch(t){console.error("Error saving problem:",t),this.addToast({message:"Error saving problem:",type:"danger"})}},resetNewProblem(){this.newProblem={client:"",prbNumber:"",status:"Active",priority:"P4 - Low",rca:"",notes:""}},async saveChange(){const e=this.currentPage.clients[this.newChange.client];e.changes.push({chgNumber:this.newChange.chgNumber,status:this.newChange.status,startDate:this.newChange.startDate,endDate:this.newChange.endDate,notes:this.newChange.notes});try{await this.updatePageDetails(this.currentPage),this.$socket.emit("editPage",this.currentPage),this.resetNewChange(),this.closeModal("addChangeModal")}catch(t){console.error("Error saving change:",t),this.addToast({message:"Error saving change:",type:"danger"})}},resetNewChange(){this.newChange={client:"",chgNumber:"",status:"Active",startDate:"",endDate:"",notes:""}},async saveRequest(){const e=this.currentPage.clients[this.newRequest.client];e.serviceRequests.push({ritmNumber:this.newRequest.ritmNumber,status:this.newRequest.status,notes:this.newRequest.notes});try{await this.updatePageDetails(this.currentPage),this.$socket.emit("editPage",this.currentPage),this.resetNewRequest(),this.closeModal("addRequestModal")}catch(t){console.error("Error saving service request:",t),this.addToast({message:"Error saving service request:",type:"danger"})}},resetNewRequest(){this.newRequest={client:"",ritmNumber:"",status:"Active",notes:""}},async removePage(){if(confirm("Are you sure you want to delete this page? This action cannot be undone."))try{await this.deletePage(this.currentPage.id),this.$socket.emit("deletePage",{id:this.currentPage.id}),this.$router.push({name:"HomePage"})}catch(e){console.error("Failed to delete the page:",e),this.addToast({message:`Failed to delete the page: ${e.message}`,type:"danger"})}},handlePageUpdated(e){console.log("Page updated:",e);const t=this.pages.findIndex((t=>t.id===e.id));-1!==t?(this.pages[t]=e,this.setPages(this.pages),this.currentPage&&this.currentPage.id===e.id&&this.setCurrentPage(e)):(this.pages.push(e),this.setPages(this.pages))}},created(){const e=this.$route.params.id;e?this.fetchPageDetails(e):console.error("Page ID is undefined."),this.$socket.on("pageUpdated",this.handlePageUpdated)},beforeUnmount(){this.$socket.off("pageUpdated",this.handlePageUpdated)}};const jo=(0,h.A)(Ho,[["render",Jo],["__scopeId","data-v-08544684"]]);var Qo=jo,Bo={components:{NavBarComponent:G,SideBarComponent:ue,shiftComp:Qo},computed:{...(0,r.aH)(["toasts"])},watch:{toasts:{immediate:!0,deep:!0,handler(e){e.forEach((e=>{this.initializeToast(e)}))}}},methods:{initializeToast(e){this.$nextTick((()=>{const t=document.querySelector(`.toast[data-id="${e.id}"]`);if(t){const e=new(l().Toast)(t);e.show()}else console.error("Toast element not found",e)}))}}};const Ko=(0,h.A)(Bo,[["render",T]]);var zo=Ko;const Wo=(0,k.aE)({history:(0,k.LA)("/"),routes:[{path:"/login",name:"Login",component:P},{path:"/",name:"Home",component:zo,meta:{requiresAuth:!0}}]});Wo.beforeEach(((e,t,a)=>{const o="true"===localStorage.getItem("userAuthenticated");e.matched.some((e=>e.meta.requiresAuth))&&!o?a("/login"):"/login"===e.path&&o?a("/"):a()}));var Go=Wo;const Yo=(0,d.Ay)("https://sn-handover-app.azurewebsites.net"),Zo=(0,o.Ef)(g);Zo.config.globalProperties.$socket=Yo,Zo.use(Go),Zo.use(l()),Zo.use(u),Yo.on("connect",(()=>{console.log("Connected to Socket.IO server")})),Yo.on("disconnect",(()=>{console.log("Disconnected from Socket.IO server")})),s.A.get("/auth/status").then((e=>{console.log("Authentication status:",e.data.authenticated),console.log("User:",e.data.user.name),e.data.authenticated?(localStorage.setItem("userAuthenticated","true"),localStorage.setItem("user",e.data.user.name),Zo.mount("#app")):(localStorage.removeItem("userAuthenticated"),localStorage.removeItem("user"),console.log(localStorage.getItem("user")),Go.push("/login"),Zo.mount("#app"))})).catch((e=>{console.error("Error checking authentication status:",e),localStorage.removeItem("userAuthenticated"),localStorage.removeItem("user"),Go.push("/login"),Zo.mount("#app")}))}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,n){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],n=e[c][2];for(var r=!0,d=0;d<o.length;d++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[d])}))?o.splice(d--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var i=s();void 0!==i&&(t=i)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,l=o[0],r=o[1],d=o[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(d)var c=d(a)}for(t&&t(o);i<l.length;i++)n=l[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(8982)}));o=a.O(o)})();
//# sourceMappingURL=app.edb94ae1.js.map