(function(){"use strict";var e={5205:function(e,t,a){a(4114);var o=a(3751),l=a(1250),n=a(414),s=a.n(n),i=a(6278),r=a(6373);const d=(0,r.Ay)({NODE_ENV:"production",BASE_URL:"/"}.SOCKET_URI);var u=(0,i.y$)({state:{pages:[],currentPage:null},mutations:{setPages(e,t){e.pages=t},setCurrentPage(e,t){e.currentPage=t},addPage(e,t){e.pages.push(t)}},actions:{initializeSocket({commit:e}){d.on("pageCreated",(t=>{e("addPage",t),e("setCurrentPage",t)}))},async fetchPages({commit:e,dispatch:t}){try{const a=await fetch("/api/records");if(!a.ok)throw new Error("Network response was not ok");const o=await a.json();e("setPages",o),o.length>0&&t("fetchPageDetails",o[0].id)}catch(a){console.error("Error fetching pages:",a)}},async fetchPageDetails({commit:e},t){try{const a=await fetch(`/api/records/${t}`);if(!a.ok)throw new Error("Network response was not ok");const o=await a.json();e("setCurrentPage",o)}catch(a){console.error("Error fetching page details:",a)}},async updatePageDetails({commit:e},t){try{const a=await fetch(`/api/records/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Network response was not ok");const o=await a.json();e("setCurrentPage",o)}catch(a){console.error("Error updating page details:",a)}},async copyHandover({commit:e}){try{const t=await fetch("/api/copy-handover",{method:"POST"}),a=await t.json();e("addPage",a),e("setCurrentPage",a)}catch(t){console.error("Error creating handover from template:",t)}},async createHandoverTemplate({commit:e}){try{const t=await fetch("/api/copy-template",{method:"POST"}),a=await t.json();e("addPage",a),e("setCurrentPage",a)}catch(t){console.error("Error creating handover from template:",t)}}}}),c=a(641);function m(e,t,a,o,l,n){const s=(0,c.g2)("router-view");return(0,c.uX)(),(0,c.Wv)(s)}var b={name:"App",data(){return{isAuthenticated:!1}},created(){this.checkAuthentication()},mounted(){this.$store.dispatch("initializeSocket")},methods:{checkAuthentication(){this.isAuthenticated=!!localStorage.getItem("userAuthenticated"),this.isAuthenticated||this.$router.push("/login")}}},p=a(6262);const v=(0,p.A)(b,[["render",m]]);var k=v,h=a(5220);const L={class:"login-container"};function f(e,t,a,o,l,n){return(0,c.uX)(),(0,c.CE)("div",L,[(0,c.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.login&&n.login(...e))},"Log in with Azure AD")])}var g={methods:{login(){window.location.href="/auth/signin"}}};const w=(0,p.A)(g,[["render",f],["__scopeId","data-v-9377a308"]]);var y=w;const P={id:"home-container"},C={class:"main-container"},E={class:"sidebar"},N={class:"content"};function I(e,t,a,o,l,n){const s=(0,c.g2)("NavBarComponent"),i=(0,c.g2)("SideBarComponent"),r=(0,c.g2)("shiftComp");return(0,c.uX)(),(0,c.CE)("div",P,[(0,c.bF)(s),(0,c.Lk)("div",C,[(0,c.Lk)("aside",E,[(0,c.bF)(i)]),(0,c.Lk)("div",N,[(0,c.bF)(r)])])])}var S=a(33);const A=e=>((0,c.Qi)("data-v-4e4abc7c"),e=e(),(0,c.jt)(),e),x={class:"navbar navbar-expand-lg bg-light"},M={class:"container-fluid"},X=A((()=>(0,c.Lk)("a",{class:"navbar-brand",href:"/"},"Handover pages",-1))),U=A((()=>(0,c.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,c.Lk)("span",{class:"navbar-toggler-icon"})],-1))),q={class:"collapse navbar-collapse",id:"navbarSupportedContent"},R=(0,c.Fv)('<ul class="navbar-nav me-auto mb-2 mb-lg-0" data-v-4e4abc7c><li class="nav-item" data-v-4e4abc7c><a class="nav-link active" aria-current="page" href="#" data-v-4e4abc7c>Templates</a></li><li class="nav-item" data-v-4e4abc7c><a class="nav-link" href="#" data-v-4e4abc7c>Shifts</a></li></ul>',1),D=A((()=>(0,c.Lk)("form",{class:"d-flex",role:"search"},[(0,c.Lk)("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"})],-1))),V={class:"navbar-nav"},_={class:"nav-item dropdown"},O={class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},F=A((()=>(0,c.Lk)("ul",{class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdownMenuLink"},[(0,c.Lk)("li",null,[(0,c.Lk)("a",{class:"dropdown-item",href:"/auth/signout"},"Sign out")])],-1)));function J(e,t,a,o,l,n){return(0,c.uX)(),(0,c.CE)("nav",x,[(0,c.Lk)("div",M,[X,U,(0,c.Lk)("div",q,[R,D,(0,c.Lk)("ul",V,[(0,c.Lk)("li",_,[(0,c.Lk)("a",O,(0,S.v_)(l.userProfile.displayName),1),F])])])])])}var T={name:"NavBarComponent",data(){return{userProfile:{displayName:localStorage.getItem("user")}}}};const j=(0,p.A)(T,[["render",J],["__scopeId","data-v-4e4abc7c"]]);var H=j;const B=e=>((0,c.Qi)("data-v-7756f832"),e=e(),(0,c.jt)(),e),K={class:"sidebar-comp d-flex flex-column"},$={class:"flex-shrink-0 p-3 bg-light sidebar-content"},Q={class:"pb-3 mb-3 border-bottom"},W={class:"nav-pills-wrapper flex-grow-1 overflow-auto"},z={class:"nav nav-pills flex-column mb-auto"},G={class:"nav-item"},Y={class:"nav flex-column"},Z=["onClick"],ee=B((()=>(0,c.Lk)("hr",null,null,-1))),te={class:"dropup w-100"},ae=B((()=>(0,c.Lk)("button",{class:"btn btn-secondary dropdown-toggle w-100",type:"button",id:"dropupMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"}," New Page ",-1))),oe={class:"dropdown-menu w-100","aria-labelledby":"dropupMenuButton"};function le(e,t,a,l,n,s){return(0,c.uX)(),(0,c.CE)("div",K,[(0,c.Lk)("div",$,[(0,c.Lk)("div",Q,[(0,c.bo)((0,c.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),type:"text",class:"form-control",placeholder:"Enter page title"},null,512),[[o.Jo,n.searchQuery]])]),(0,c.Lk)("div",W,[(0,c.Lk)("ul",z,[(0,c.Lk)("li",G,[(0,c.Lk)("ul",Y,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(s.filteredPages,(t=>((0,c.uX)(),(0,c.CE)("li",{class:"nav-item",key:t.id},[(0,c.Lk)("a",{href:"#",class:(0,S.C4)(["nav-link link-dark",{active:t.id===e.currentPage?.id}]),onClick:e=>s.loadPage(t.id)},(0,S.v_)(t.title),11,Z)])))),128))])])])])]),ee,(0,c.Lk)("div",te,[ae,(0,c.Lk)("ul",oe,[(0,c.Lk)("li",null,[(0,c.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[1]||(t[1]=(...t)=>e.copyLastPageWithData&&e.copyLastPageWithData(...t))},"Copy last handover")]),(0,c.Lk)("li",null,[(0,c.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[2]||(t[2]=(...t)=>e.copyLastPageTemplateOnly&&e.copyLastPageTemplateOnly(...t))},"Create a new page")])])])])}var ne={name:"SidebarComponent",data(){return{searchQuery:""}},computed:{...(0,i.aH)(["pages","currentPage"]),filteredPages(){return this.pages.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}},methods:{...(0,i.i0)(["fetchPages","fetchPageDetails","createHandoverTemplate","copyHandover"]),loadPage(e){this.fetchPageDetails(e)},createNewHandoverWithData(){this.copyHandover()},createNewTemplateHandover(){this.createHandoverTemplate()}},created(){this.fetchPages()}};const se=(0,p.A)(ne,[["render",le],["__scopeId","data-v-7756f832"]]);var ie=se;const re=e=>((0,c.Qi)("data-v-51f54e1f"),e=e(),(0,c.jt)(),e),de={id:"content-container",class:"container mt-4"},ue={key:0,class:"main-container"},ce={class:"header"},me={class:"dropwdowns-opt"},be=(0,c.Fv)('<div class="dropdown-add" data-v-51f54e1f><button class="btn btn-link text-decoration-none" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" data-v-51f54e1f><i class="bi bi-plus-lg" data-v-51f54e1f></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton" data-v-51f54e1f><li data-v-51f54e1f><a class="dropdown-item" id="add-inc-btn" href="#" data-bs-toggle="modal" data-bs-target="#addIncidentModal" data-v-51f54e1f>Add Incident</a></li><li data-v-51f54e1f><a class="dropdown-item" id="add-prb-btn" href="#" data-bs-toggle="modal" data-bs-target="#addProblemModal" data-v-51f54e1f>Add Problem</a></li><li data-v-51f54e1f><a class="dropdown-item" id="add-chg-btn" href="#" data-bs-toggle="modal" data-bs-target="#addChangeModal" data-v-51f54e1f>Add Change</a></li><li data-v-51f54e1f><a class="dropdown-item" id="add-req-btn" href="#" data-bs-toggle="modal" data-bs-target="#addRequestModal" data-v-51f54e1f>Add Service Request</a></li></ul></div>',1),pe={class:"dropdown"},ve=re((()=>(0,c.Lk)("button",{class:"btn btn-link text-decoration-none",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,c.Lk)("i",{class:"bi bi-three-dots-vertical"})],-1))),ke={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton"},he=re((()=>(0,c.Lk)("li",null,[(0,c.Lk)("hr",{class:"dropdown-divider"})],-1))),Le=re((()=>(0,c.Lk)("li",null,[(0,c.Lk)("a",{class:"dropdown-item",id:"remove-btn",href:"#","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},"Remove page")],-1))),fe={class:"modal fade",id:"addIncidentModal",tabindex:"-1","aria-labelledby":"addIncidentModalLabel","aria-hidden":"true"},ge={class:"modal-dialog"},we={class:"modal-content"},ye=re((()=>(0,c.Lk)("div",{class:"modal-header"},[(0,c.Lk)("h5",{class:"modal-title",id:"addIncidentModalLabel"},"Add Incident"),(0,c.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Pe={class:"modal-body"},Ce={class:"mb-3"},Ee=re((()=>(0,c.Lk)("label",{for:"clientSelect",class:"form-label"},"Client",-1))),Ne=["value"],Ie={class:"mb-3"},Se=re((()=>(0,c.Lk)("label",{for:"incidentNumber",class:"form-label"},"Incident Number",-1))),Ae={class:"mb-3"},xe=re((()=>(0,c.Lk)("label",{for:"status",class:"form-label"},"Status",-1))),Me=re((()=>(0,c.Lk)("option",{value:"Active"},"Active",-1))),Xe=re((()=>(0,c.Lk)("option",{value:"Awaiting user info"},"Awaiting User Info",-1))),Ue=re((()=>(0,c.Lk)("option",{value:"Awaiting third party"},"Awaiting Third Party",-1))),qe=re((()=>(0,c.Lk)("option",{value:"Resolved"},"Resolved",-1))),Re=[Me,Xe,Ue,qe],De={class:"mb-3"},Ve=re((()=>(0,c.Lk)("label",{for:"dateOpened",class:"form-label"},"Date Opened",-1))),_e={class:"mb-3"},Oe=re((()=>(0,c.Lk)("label",{for:"priority",class:"form-label"},"Priority",-1))),Fe=re((()=>(0,c.Lk)("option",{value:"P4 - Low"},"P4 - Low",-1))),Je=re((()=>(0,c.Lk)("option",{value:"P3 - moderate"},"P3 - moderate",-1))),Te=re((()=>(0,c.Lk)("option",{value:"P2 - high"},"P2 - high",-1))),je=re((()=>(0,c.Lk)("option",{value:"P1 - Critical"},"P1 - Critical",-1))),He=[Fe,Je,Te,je],Be={class:"mb-3"},Ke=re((()=>(0,c.Lk)("label",{for:"mainProblem",class:"form-label"},"Main Problem",-1))),$e={class:"mb-3"},Qe=re((()=>(0,c.Lk)("label",{for:"notes",class:"form-label"},"Notes",-1))),We=re((()=>(0,c.Lk)("div",{class:"modal-footer"},[(0,c.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,c.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))),ze={class:"modal fade",id:"addProblemModal",tabindex:"-1","aria-labelledby":"addProblemModalLabel","aria-hidden":"true"},Ge={class:"modal-dialog"},Ye={class:"modal-content"},Ze=re((()=>(0,c.Lk)("div",{class:"modal-header"},[(0,c.Lk)("h5",{class:"modal-title",id:"addProblemModalLabel"},"Add Problem"),(0,c.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),et={class:"modal-body"},tt={class:"mb-3"},at=re((()=>(0,c.Lk)("label",{for:"clientSelect",class:"form-label"},"Client",-1))),ot=["value"],lt={class:"mb-3"},nt=re((()=>(0,c.Lk)("label",{for:"problemNumber",class:"form-label"},"Problem Number",-1))),st={class:"mb-3"},it=re((()=>(0,c.Lk)("label",{for:"status",class:"form-label"},"Status",-1))),rt=(0,c.Fv)('<option value="Evaluate" data-v-51f54e1f>Evaluate</option><option value="On Hold" data-v-51f54e1f>On Hold</option><option value="Investigate" data-v-51f54e1f>Investigate</option><option value="Review" data-v-51f54e1f>Review</option><option value="Remediate" data-v-51f54e1f>Remediate</option><option value="Resolved" data-v-51f54e1f>Resolved</option>',6),dt=[rt],ut={class:"mb-3"},ct=re((()=>(0,c.Lk)("label",{for:"priority",class:"form-label"},"Priority",-1))),mt=re((()=>(0,c.Lk)("option",{value:"P4 - Low"},"P4 - Low",-1))),bt=re((()=>(0,c.Lk)("option",{value:"P3 - moderate"},"P3 - moderate",-1))),pt=re((()=>(0,c.Lk)("option",{value:"P2 - high"},"P2 - high",-1))),vt=re((()=>(0,c.Lk)("option",{value:"P1 - Critical"},"P1 - Critical",-1))),kt=[mt,bt,pt,vt],ht={class:"mb-3"},Lt=re((()=>(0,c.Lk)("label",{for:"rca",class:"form-label"},"Root cause analysis",-1))),ft={class:"mb-3"},gt=re((()=>(0,c.Lk)("label",{for:"notes",class:"form-label"},"Notes",-1))),wt=re((()=>(0,c.Lk)("div",{class:"modal-footer"},[(0,c.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,c.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))),yt={class:"modal fade",id:"addChangeModal",tabindex:"-1","aria-labelledby":"addChangeModalLabel","aria-hidden":"true"},Pt={class:"modal-dialog"},Ct={class:"modal-content"},Et=re((()=>(0,c.Lk)("div",{class:"modal-header"},[(0,c.Lk)("h5",{class:"modal-title",id:"addChangeModalLabel"},"Add Change"),(0,c.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Nt={class:"modal-body"},It={class:"mb-3"},St=re((()=>(0,c.Lk)("label",{for:"clientSelect",class:"form-label"},"Client",-1))),At=["value"],xt={class:"mb-3"},Mt=re((()=>(0,c.Lk)("label",{for:"changeNumber",class:"form-label"},"Change Number",-1))),Xt={class:"mb-3"},Ut=re((()=>(0,c.Lk)("label",{for:"status",class:"form-label"},"Status",-1))),qt=(0,c.Fv)('<option value="New" data-v-51f54e1f>New</option><option value="Assess" data-v-51f54e1f>Assess</option><option value="Authorize" data-v-51f54e1f>Authorize</option><option value="Scheduled" data-v-51f54e1f>Scheduled</option><option value="Implement" data-v-51f54e1f>Implement</option><option value="Review" data-v-51f54e1f>Review</option><option value="Closed" data-v-51f54e1f>Closed</option>',7),Rt=[qt],Dt={class:"mb-3"},Vt=re((()=>(0,c.Lk)("label",{for:"startDate",class:"form-label"},"Start Date",-1))),_t={class:"mb-3"},Ot=re((()=>(0,c.Lk)("label",{for:"endDate",class:"form-label"},"End Date",-1))),Ft={class:"mb-3"},Jt=re((()=>(0,c.Lk)("label",{for:"notes",class:"form-label"},"Notes",-1))),Tt=re((()=>(0,c.Lk)("div",{class:"modal-footer"},[(0,c.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,c.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))),jt={class:"modal fade",id:"addRequestModal",tabindex:"-1","aria-labelledby":"addRequestModalLabel","aria-hidden":"true"},Ht={class:"modal-dialog"},Bt={class:"modal-content"},Kt=re((()=>(0,c.Lk)("div",{class:"modal-header"},[(0,c.Lk)("h5",{class:"modal-title",id:"addRequestModalLabel"},"Add Service Request"),(0,c.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),$t={class:"modal-body"},Qt={class:"mb-3"},Wt=re((()=>(0,c.Lk)("label",{for:"clientSelect",class:"form-label"},"Client",-1))),zt=["value"],Gt={class:"mb-3"},Yt=re((()=>(0,c.Lk)("label",{for:"ritmNumber",class:"form-label"},"Service Request Number",-1))),Zt={class:"mb-3"},ea=re((()=>(0,c.Lk)("label",{for:"notes",class:"form-label"},"Short request description",-1))),ta={class:"mb-3"},aa=re((()=>(0,c.Lk)("label",{for:"notes",class:"form-label"},"Notes",-1))),oa=re((()=>(0,c.Lk)("div",{class:"modal-footer"},[(0,c.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,c.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))),la={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},na={class:"modal-dialog modal-dialog-centered"},sa={class:"modal-content"},ia=re((()=>(0,c.Lk)("div",{class:"modal-header"},[(0,c.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"Modal title"),(0,c.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ra={class:"modal-body"},da={class:"modal-footer"},ua=re((()=>(0,c.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1))),ca={class:"toast-container position-fixed bottom-0 end-0 p-3"},ma={id:"liveToast",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},ba=re((()=>(0,c.Lk)("div",{class:"toast-header"},[(0,c.Lk)("strong",{class:"me-auto"},"Bootstrap"),(0,c.Lk)("small",null,"11 mins ago"),(0,c.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1))),pa={class:"toast-body"},va=re((()=>(0,c.Lk)("h6",null,"Engineers on Shift",-1))),ka={key:0},ha={class:"table table-fixed"},La=re((()=>(0,c.Lk)("thead",null,[(0,c.Lk)("tr",null,[(0,c.Lk)("th",null,"Incident Number"),(0,c.Lk)("th",null,"Status"),(0,c.Lk)("th",null,"Priority"),(0,c.Lk)("th",null,"Main Problem"),(0,c.Lk)("th",null,"Notes")])],-1))),fa={key:0},ga={key:1},wa=["onUpdate:modelValue"],ya=re((()=>(0,c.Lk)("option",{value:"Active"},"Active",-1))),Pa=re((()=>(0,c.Lk)("option",{value:"Awaiting user info"},"Awaiting User Info",-1))),Ca=re((()=>(0,c.Lk)("option",{value:"Awaiting third party"},"Awaiting Third Party",-1))),Ea=re((()=>(0,c.Lk)("option",{value:"Resolved"},"Resolved",-1))),Na=[ya,Pa,Ca,Ea],Ia={key:0},Sa={key:1},Aa=["onUpdate:modelValue"],xa=re((()=>(0,c.Lk)("option",{value:"P4 - Low"},"P4 - Low",-1))),Ma=re((()=>(0,c.Lk)("option",{value:"P3 - moderate"},"P3 - moderate",-1))),Xa=re((()=>(0,c.Lk)("option",{value:"P2 - high"},"P2 - high",-1))),Ua=re((()=>(0,c.Lk)("option",{value:"P1 - Critical"},"P1 - Critical",-1))),qa=[xa,Ma,Xa,Ua],Ra={key:0},Da={key:1},Va=["onUpdate:modelValue"],_a={key:0},Oa={key:1},Fa=["onUpdate:modelValue"],Ja={key:1},Ta={class:"table table-fixed"},ja=re((()=>(0,c.Lk)("thead",null,[(0,c.Lk)("tr",null,[(0,c.Lk)("th",null,"Problem Number"),(0,c.Lk)("th",null,"Status"),(0,c.Lk)("th",null,"Priority"),(0,c.Lk)("th",null,"Root Cause analysis"),(0,c.Lk)("th",null,"Notes")])],-1))),Ha={key:0},Ba={key:1},Ka=["onUpdate:modelValue"],$a=re((()=>(0,c.Lk)("option",{value:"Active"},"Active",-1))),Qa=re((()=>(0,c.Lk)("option",{value:"Awaiting user info"},"Awaiting User Info",-1))),Wa=re((()=>(0,c.Lk)("option",{value:"Awaiting third party"},"Awaiting Third Party",-1))),za=re((()=>(0,c.Lk)("option",{value:"Resolved"},"Resolved",-1))),Ga=[$a,Qa,Wa,za],Ya={key:0},Za={key:1},eo=["onUpdate:modelValue"],to=re((()=>(0,c.Lk)("option",{value:"P4 - Low"},"P4 - Low",-1))),ao=re((()=>(0,c.Lk)("option",{value:"P3 - moderate"},"P3 - moderate",-1))),oo=re((()=>(0,c.Lk)("option",{value:"P2 - high"},"P2 - high",-1))),lo=re((()=>(0,c.Lk)("option",{value:"P1 - Critical"},"P1 - Critical",-1))),no=[to,ao,oo,lo],so={key:0},io={key:1},ro=["onUpdate:modelValue"],uo={key:0},co={key:1},mo=["onUpdate:modelValue"],bo={key:2},po={class:"table table-fixed"},vo=re((()=>(0,c.Lk)("thead",null,[(0,c.Lk)("tr",null,[(0,c.Lk)("th",null,"Change Number"),(0,c.Lk)("th",null,"Status"),(0,c.Lk)("th",null,"Start Date"),(0,c.Lk)("th",null,"End Date"),(0,c.Lk)("th",null,"Notes")])],-1))),ko={key:0},ho={key:1},Lo=["onUpdate:modelValue"],fo=(0,c.Fv)('<option value="New" data-v-51f54e1f>New</option><option value="Assess" data-v-51f54e1f>Assess</option><option value="Authorize" data-v-51f54e1f>Authorize</option><option value="Scheduled" data-v-51f54e1f>Scheduled</option><option value="Implement" data-v-51f54e1f>Implement</option><option value="Review" data-v-51f54e1f>Review</option><option value="Closed" data-v-51f54e1f>Closed</option>',7),go=[fo],wo={key:0},yo={key:1},Po=["onUpdate:modelValue"],Co={key:0},Eo={key:1},No=["onUpdate:modelValue"],Io={key:0},So={key:1},Ao=["onUpdate:modelValue"],xo={key:3},Mo={class:"table table-fixed"},Xo=re((()=>(0,c.Lk)("thead",null,[(0,c.Lk)("tr",null,[(0,c.Lk)("th",null,"Request Number"),(0,c.Lk)("th",null,"Short request description"),(0,c.Lk)("th",null,"Notes")])],-1))),Uo={key:0},qo={key:1},Ro=["onUpdate:modelValue"],Do={key:0},Vo={key:1},_o=["onUpdate:modelValue"],Oo={key:1};function Fo(e,t,a,l,n,s){const i=(0,c.g2)("h7");return(0,c.uX)(),(0,c.CE)("div",de,[e.currentPage?((0,c.uX)(),(0,c.CE)("div",ue,[(0,c.Lk)("div",ce,[(0,c.Lk)("h1",null,(0,S.v_)(e.currentPage.title),1),(0,c.Lk)("div",me,[be,(0,c.Lk)("div",pe,[ve,(0,c.Lk)("ul",ke,[(0,c.Lk)("li",null,[(0,c.Lk)("a",{class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>s.toggleEditMode&&s.toggleEditMode(...e))},(0,S.v_)(n.editMode?"Save":"Edit"),1)]),he,Le])])])]),(0,c.Lk)("div",fe,[(0,c.Lk)("div",ge,[(0,c.Lk)("div",we,[ye,(0,c.Lk)("div",Pe,[(0,c.Lk)("form",{onSubmit:t[8]||(t[8]=(0,o.D$)(((...e)=>s.saveIncident&&s.saveIncident(...e)),["prevent"]))},[(0,c.Lk)("div",Ce,[Ee,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"clientSelect","onUpdate:modelValue":t[1]||(t[1]=e=>n.newIncident.client=e),required:""},[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.currentPage.clients,((e,t)=>((0,c.uX)(),(0,c.CE)("option",{key:t,value:t},(0,S.v_)(t),9,Ne)))),128))],512),[[o.u1,n.newIncident.client]])]),(0,c.Lk)("div",Ie,[Se,(0,c.bo)((0,c.Lk)("input",{type:"text",class:"form-control",id:"incidentNumber","onUpdate:modelValue":t[2]||(t[2]=e=>n.newIncident.incNumber=e),required:""},null,512),[[o.Jo,n.newIncident.incNumber]])]),(0,c.Lk)("div",Ae,[xe,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"status","onUpdate:modelValue":t[3]||(t[3]=e=>n.newIncident.status=e),required:""},Re,512),[[o.u1,n.newIncident.status]])]),(0,c.Lk)("div",De,[Ve,(0,c.bo)((0,c.Lk)("input",{type:"datetime-local",class:"form-control",id:"dateOpened","onUpdate:modelValue":t[4]||(t[4]=e=>n.newIncident.dateOpened=e),required:""},null,512),[[o.Jo,n.newIncident.dateOpened]])]),(0,c.Lk)("div",_e,[Oe,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"priority","onUpdate:modelValue":t[5]||(t[5]=e=>n.newIncident.priority=e),required:""},He,512),[[o.u1,n.newIncident.priority]])]),(0,c.Lk)("div",Be,[Ke,(0,c.bo)((0,c.Lk)("input",{type:"text",class:"form-control",id:"mainProblem","onUpdate:modelValue":t[6]||(t[6]=e=>n.newIncident.mainProblem=e),required:""},null,512),[[o.Jo,n.newIncident.mainProblem]])]),(0,c.Lk)("div",$e,[Qe,(0,c.bo)((0,c.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[7]||(t[7]=e=>n.newIncident.notes=e),rows:"3"},null,512),[[o.Jo,n.newIncident.notes]])]),We],32)])])])]),(0,c.Lk)("div",ze,[(0,c.Lk)("div",Ge,[(0,c.Lk)("div",Ye,[Ze,(0,c.Lk)("div",et,[(0,c.Lk)("form",{onSubmit:t[15]||(t[15]=(0,o.D$)(((...e)=>s.saveProblem&&s.saveProblem(...e)),["prevent"]))},[(0,c.Lk)("div",tt,[at,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"clientSelect","onUpdate:modelValue":t[9]||(t[9]=e=>n.newProblem.client=e),required:""},[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.currentPage.clients,((e,t)=>((0,c.uX)(),(0,c.CE)("option",{key:t,value:t},(0,S.v_)(t),9,ot)))),128))],512),[[o.u1,n.newProblem.client]])]),(0,c.Lk)("div",lt,[nt,(0,c.bo)((0,c.Lk)("input",{type:"text",class:"form-control",id:"problemNumber","onUpdate:modelValue":t[10]||(t[10]=e=>n.newProblem.prbNumber=e),required:""},null,512),[[o.Jo,n.newProblem.prbNumber]])]),(0,c.Lk)("div",st,[it,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"status","onUpdate:modelValue":t[11]||(t[11]=e=>n.newProblem.status=e),required:""},dt,512),[[o.u1,n.newProblem.status]])]),(0,c.Lk)("div",ut,[ct,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"priority","onUpdate:modelValue":t[12]||(t[12]=e=>n.newProblem.priority=e),required:""},kt,512),[[o.u1,n.newProblem.priority]])]),(0,c.Lk)("div",ht,[Lt,(0,c.bo)((0,c.Lk)("input",{type:"text",class:"form-control",id:"rca","onUpdate:modelValue":t[13]||(t[13]=e=>n.newProblem.rca=e),required:""},null,512),[[o.Jo,n.newProblem.rca]])]),(0,c.Lk)("div",ft,[gt,(0,c.bo)((0,c.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[14]||(t[14]=e=>n.newProblem.notes=e),rows:"3"},null,512),[[o.Jo,n.newProblem.notes]])]),wt],32)])])])]),(0,c.Lk)("div",yt,[(0,c.Lk)("div",Pt,[(0,c.Lk)("div",Ct,[Et,(0,c.Lk)("div",Nt,[(0,c.Lk)("form",{onSubmit:t[22]||(t[22]=(0,o.D$)(((...e)=>s.saveChange&&s.saveChange(...e)),["prevent"]))},[(0,c.Lk)("div",It,[St,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"clientSelect","onUpdate:modelValue":t[16]||(t[16]=e=>n.newChange.client=e),required:""},[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.currentPage.clients,((e,t)=>((0,c.uX)(),(0,c.CE)("option",{key:t,value:t},(0,S.v_)(t),9,At)))),128))],512),[[o.u1,n.newChange.client]])]),(0,c.Lk)("div",xt,[Mt,(0,c.bo)((0,c.Lk)("input",{type:"text",class:"form-control",id:"changeNumber","onUpdate:modelValue":t[17]||(t[17]=e=>n.newChange.chgNumber=e),required:""},null,512),[[o.Jo,n.newChange.chgNumber]])]),(0,c.Lk)("div",Xt,[Ut,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"status","onUpdate:modelValue":t[18]||(t[18]=e=>n.newChange.status=e),required:""},Rt,512),[[o.u1,n.newChange.status]])]),(0,c.Lk)("div",Dt,[Vt,(0,c.bo)((0,c.Lk)("input",{type:"datetime-local",class:"form-control",id:"startDate","onUpdate:modelValue":t[19]||(t[19]=e=>n.newChange.startDate=e),required:""},null,512),[[o.Jo,n.newChange.startDate]])]),(0,c.Lk)("div",_t,[Ot,(0,c.bo)((0,c.Lk)("input",{type:"datetime-local",class:"form-control",id:"endDate","onUpdate:modelValue":t[20]||(t[20]=e=>n.newChange.endDate=e),required:""},null,512),[[o.Jo,n.newChange.endDate]])]),(0,c.Lk)("div",Ft,[Jt,(0,c.bo)((0,c.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[21]||(t[21]=e=>n.newChange.notes=e),rows:"3"},null,512),[[o.Jo,n.newChange.notes]])]),Tt],32)])])])]),(0,c.Lk)("div",jt,[(0,c.Lk)("div",Ht,[(0,c.Lk)("div",Bt,[Kt,(0,c.Lk)("div",$t,[(0,c.Lk)("form",{onSubmit:t[27]||(t[27]=(0,o.D$)(((...e)=>s.saveRequest&&s.saveRequest(...e)),["prevent"]))},[(0,c.Lk)("div",Qt,[Wt,(0,c.bo)((0,c.Lk)("select",{class:"form-select",id:"clientSelect","onUpdate:modelValue":t[23]||(t[23]=e=>n.newRequest.client=e),required:""},[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.currentPage.clients,((e,t)=>((0,c.uX)(),(0,c.CE)("option",{key:t,value:t},(0,S.v_)(t),9,zt)))),128))],512),[[o.u1,n.newRequest.client]])]),(0,c.Lk)("div",Gt,[Yt,(0,c.bo)((0,c.Lk)("input",{type:"text",class:"form-control",id:"ritmNumber","onUpdate:modelValue":t[24]||(t[24]=e=>n.newRequest.ritmNumber=e),required:""},null,512),[[o.Jo,n.newRequest.ritmNumber]])]),(0,c.Lk)("div",Zt,[ea,(0,c.bo)((0,c.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[25]||(t[25]=e=>n.newRequest.desc=e),rows:"3"},null,512),[[o.Jo,n.newRequest.desc]])]),(0,c.Lk)("div",ta,[aa,(0,c.bo)((0,c.Lk)("textarea",{class:"form-control",id:"notes","onUpdate:modelValue":t[26]||(t[26]=e=>n.newRequest.notes=e),rows:"3"},null,512),[[o.Jo,n.newRequest.notes]])]),oa],32)])])])]),(0,c.Lk)("div",la,[(0,c.Lk)("div",na,[(0,c.Lk)("div",sa,[ia,(0,c.Lk)("div",ra," Are you sure you want to remove "+(0,S.v_)(e.currentPage.title)+"? This action cannot be undone. ",1),(0,c.Lk)("div",da,[ua,(0,c.Lk)("button",{type:"button",class:"btn btn-primary",id:"liveToastBtn",onClick:t[28]||(t[28]=(...e)=>s.deletePage&&s.deletePage(...e))},"Remove")])])])]),(0,c.Lk)("div",ca,[(0,c.Lk)("div",ma,[ba,(0,c.Lk)("div",pa,(0,S.v_)(e.currentPage.title)+" successfully deleted. ",1)])]),(0,c.Lk)("div",null,[va,(0,c.Lk)("ul",null,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.currentPage.engineersOnShift,(e=>((0,c.uX)(),(0,c.CE)("li",{key:e.id},(0,S.v_)(e.name),1)))),128))])]),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.currentPage.clients,((e,t)=>((0,c.uX)(),(0,c.CE)("div",{key:t},[(0,c.Lk)("h6",null,(0,S.v_)(t),1),e.incidents.length>0?((0,c.uX)(),(0,c.CE)("div",ka,[(0,c.bF)(i,null,{default:(0,c.k6)((()=>[(0,c.eW)("Incidents")])),_:1}),(0,c.Lk)("table",ha,[La,(0,c.Lk)("tbody",null,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.incidents,(e=>((0,c.uX)(),(0,c.CE)("tr",{key:e.incNumber},[(0,c.Lk)("td",null,(0,S.v_)(e.incNumber),1),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",ga,[(0,c.bo)((0,c.Lk)("select",{"onUpdate:modelValue":t=>e.status=t},Na,8,wa),[[o.u1,e.status]])])):((0,c.uX)(),(0,c.CE)("div",fa,(0,S.v_)(e.status),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",Sa,[(0,c.bo)((0,c.Lk)("select",{"onUpdate:modelValue":t=>e.priority=t},qa,8,Aa),[[o.u1,e.priority]])])):((0,c.uX)(),(0,c.CE)("div",Ia,(0,S.v_)(e.priority),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",Da,[(0,c.bo)((0,c.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.mainProblem=t,class:"form-control custom-textarea"},null,8,Va),[[o.Jo,e.mainProblem]])])):((0,c.uX)(),(0,c.CE)("div",Ra,(0,S.v_)(e.mainProblem),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",Oa,[(0,c.bo)((0,c.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.notes=t,class:"form-control custom-textarea"},null,8,Fa),[[o.Jo,e.notes]])])):((0,c.uX)(),(0,c.CE)("div",_a,(0,S.v_)(e.notes),1))])])))),128))])])])):(0,c.Q3)("",!0),e.problems.length>0?((0,c.uX)(),(0,c.CE)("div",Ja,[(0,c.bF)(i,null,{default:(0,c.k6)((()=>[(0,c.eW)("Problems")])),_:1}),(0,c.Lk)("table",Ta,[ja,(0,c.Lk)("tbody",null,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.problems,(e=>((0,c.uX)(),(0,c.CE)("tr",{key:e.prbNumber},[(0,c.Lk)("td",null,(0,S.v_)(e.prbNumber),1),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",Ba,[(0,c.bo)((0,c.Lk)("select",{"onUpdate:modelValue":t=>e.status=t},Ga,8,Ka),[[o.u1,e.status]])])):((0,c.uX)(),(0,c.CE)("div",Ha,(0,S.v_)(e.status),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",Za,[(0,c.bo)((0,c.Lk)("select",{"onUpdate:modelValue":t=>e.priority=t},no,8,eo),[[o.u1,e.priority]])])):((0,c.uX)(),(0,c.CE)("div",Ya,(0,S.v_)(e.priority),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",io,[(0,c.bo)((0,c.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.rca=t,class:"form-control custom-textarea"},null,8,ro),[[o.Jo,e.rca]])])):((0,c.uX)(),(0,c.CE)("div",so,(0,S.v_)(e.rca),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",co,[(0,c.bo)((0,c.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.notes=t,class:"form-control custom-textarea"},null,8,mo),[[o.Jo,e.notes]])])):((0,c.uX)(),(0,c.CE)("div",uo,(0,S.v_)(e.notes),1))])])))),128))])])])):(0,c.Q3)("",!0),e.changes.length>0?((0,c.uX)(),(0,c.CE)("div",bo,[(0,c.bF)(i,null,{default:(0,c.k6)((()=>[(0,c.eW)("Changes")])),_:1}),(0,c.Lk)("table",po,[vo,(0,c.Lk)("tbody",null,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.changes,(e=>((0,c.uX)(),(0,c.CE)("tr",{key:e.chgNumber},[(0,c.Lk)("td",null,(0,S.v_)(e.chgNumber),1),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",ho,[(0,c.bo)((0,c.Lk)("select",{"onUpdate:modelValue":t=>e.status=t},go,8,Lo),[[o.u1,e.status]])])):((0,c.uX)(),(0,c.CE)("div",ko,(0,S.v_)(e.status),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",yo,[(0,c.bo)((0,c.Lk)("input",{type:"datetime-local",class:"form-control",id:"startDate","onUpdate:modelValue":t=>e.startDate=t},null,8,Po),[[o.Jo,e.startDate]])])):((0,c.uX)(),(0,c.CE)("div",wo,(0,S.v_)(e.startDate),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",Eo,[(0,c.bo)((0,c.Lk)("input",{type:"datetime-local",class:"form-control",id:"endDate","onUpdate:modelValue":t=>e.endDate=t},null,8,No),[[o.Jo,e.endDate]])])):((0,c.uX)(),(0,c.CE)("div",Co,(0,S.v_)(e.endDate),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",So,[(0,c.bo)((0,c.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.notes=t,class:"form-control custom-textarea"},null,8,Ao),[[o.Jo,e.notes]])])):((0,c.uX)(),(0,c.CE)("div",Io,(0,S.v_)(e.notes),1))])])))),128))])])])):(0,c.Q3)("",!0),e.serviceRequests.length>0?((0,c.uX)(),(0,c.CE)("div",xo,[(0,c.bF)(i,null,{default:(0,c.k6)((()=>[(0,c.eW)("Service Requests")])),_:1}),(0,c.Lk)("table",Mo,[Xo,(0,c.Lk)("tbody",null,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.serviceRequests,(e=>((0,c.uX)(),(0,c.CE)("tr",{key:e.ritmNumber},[(0,c.Lk)("td",null,(0,S.v_)(e.ritmNumber),1),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",qo,[(0,c.bo)((0,c.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.desc=t,class:"form-control custom-textarea"},null,8,Ro),[[o.Jo,e.desc]])])):((0,c.uX)(),(0,c.CE)("div",Uo,(0,S.v_)(e.desc),1))]),(0,c.Lk)("td",null,[n.editMode?((0,c.uX)(),(0,c.CE)("div",Vo,[(0,c.bo)((0,c.Lk)("textarea",{type:"text","onUpdate:modelValue":t=>e.notes=t,class:"form-control custom-textarea"},null,8,_o),[[o.Jo,e.notes]])])):((0,c.uX)(),(0,c.CE)("div",Do,(0,S.v_)(e.notes),1))])])))),128))])])])):(0,c.Q3)("",!0)])))),128))])):((0,c.uX)(),(0,c.CE)("div",Oo,"No data available"))])}var Jo={data(){return{editMode:!1,newIncident:{client:"",incNumber:"",status:"Active",dateOpened:"",priority:"P4 - Low",mainProblem:"",notes:""},newProblem:{client:"",prbNumber:"",status:"Evaluate",priority:"P4 - Low",rca:"",notes:""},newChange:{client:"",chgNumber:"",status:"New",startDate:"",endDate:"",notes:""},newRequest:{client:"",ritmNumber:"",desc:"",notes:""}}},computed:{...(0,i.aH)(["currentPage"])},methods:{...(0,i.i0)(["fetchPageDetails","updatePageDetails"]),toggleEditMode(){this.editMode&&this.updatePageDetails(this.currentPage),this.editMode=!this.editMode},async saveIncident(){const e=this.currentPage.clients[this.newIncident.client];e.incidents.push({incNumber:this.newIncident.incNumber,status:this.newIncident.status,dateOpened:this.newIncident.dateOpened,priority:this.newIncident.priority,mainProblem:this.newIncident.mainProblem,notes:this.newIncident.notes});try{await this.updatePageDetails(this.currentPage),this.resetNewIncident(),this.closeModal("addIncidentModal")}catch(t){console.error("Error saving incident:",t),alert("Failed to save incident")}},resetNewIncident(){this.newIncident={client:"",incNumber:"",status:"Active",dateOpened:"",priority:"P4 - Low",mainProblem:"",notes:""}},async saveProblem(){const e=this.currentPage.clients[this.newProblem.client];e.problems.push({prbNumber:this.newProblem.prbNumber,status:this.newProblem.status,priority:this.newProblem.priority,rca:this.newProblem.rca,notes:this.newProblem.notes});try{await this.updatePageDetails(this.currentPage),this.resetNewProblem(),this.closeModal("addProblemModal")}catch(t){console.error("Error saving problem:",t),alert("Failed to save problem")}},resetNewProblem(){this.newProblem={client:"",prbNumber:"",status:"Active",priority:"P4 - Low",rca:"",notes:""}},async saveChange(){const e=this.currentPage.clients[this.newChange.client];e.changes.push({chgNumber:this.newChange.chgNumber,status:this.newChange.status,startDate:this.newChange.startDate,endDate:this.newChange.endDate,notes:this.newChange.notes});try{await this.updatePageDetails(this.currentPage),this.resetNewChange(),this.closeModal("addChangeModal")}catch(t){console.error("Error saving change:",t),alert("Failed to save change")}},resetNewChange(){this.newChange={client:"",chgNumber:"",status:"Active",startDate:"",endDate:"",notes:""}},async saveRequest(){const e=this.currentPage.clients[this.newRequest.client];e.serviceRequests.push({ritmNumber:this.newRequest.ritmNumber,status:this.newRequest.status,notes:this.newRequest.notes});try{await this.updatePageDetails(this.currentPage),this.resetNewRequest(),this.closeModal("addRequestModal")}catch(t){console.error("Error saving service request:",t),alert("Failed to save service request")}},resetNewRequest(){this.newRequest={client:"",ritmNumber:"",status:"Active",notes:""}},deletePage(){confirm("Are you sure you want to delete this page? This action cannot be undone.")&&l.A.delete(`/api/records/${this.currentPage.id}`).then((()=>{alert("Page successfully deleted"),this.$router.push({name:"HomePage"})})).catch((e=>{console.error("Error deleting page:",e),alert("Error deleting page")}))}},created(){const e=this.$route.params.id;this.fetchPageDetails(e)}};const To=(0,p.A)(Jo,[["render",Fo],["__scopeId","data-v-51f54e1f"]]);var jo=To,Ho={components:{NavBarComponent:H,SideBarComponent:ie,shiftComp:jo}};const Bo=(0,p.A)(Ho,[["render",I]]);var Ko=Bo;const $o=(0,h.aE)({history:(0,h.LA)("/"),routes:[{path:"/login",name:"Login",component:y},{path:"/",name:"Home",component:Ko,meta:{requiresAuth:!0}}]});$o.beforeEach(((e,t,a)=>{const o="true"===localStorage.getItem("userAuthenticated");e.matched.some((e=>e.meta.requiresAuth))&&!o?a("/login"):"/login"===e.path&&o?a("/"):a()}));var Qo=$o;const Wo=(0,o.Ef)(k);Wo.use(Qo),Wo.use(s()),Wo.use(u),l.A.get("/auth/status").then((e=>{console.log("Authentication status:",e.data.authenticated),console.log("User:",e.data.user.name),e.data.authenticated?(localStorage.setItem("userAuthenticated","true"),localStorage.setItem("user",e.data.user.name),Wo.mount("#app")):(localStorage.removeItem("userAuthenticated"),localStorage.removeItem("user"),console.log(localStorage.getItem("user")),Qo.push("/login"),Wo.mount("#app"))})).catch((e=>{console.error("Error checking authentication status:",e),localStorage.removeItem("userAuthenticated"),localStorage.removeItem("user"),Qo.push("/login"),Wo.mount("#app")}))}},t={};function a(o){var l=t[o];if(void 0!==l)return l.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,l,n){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],l=e[u][1],n=e[u][2];for(var i=!0,r=0;r<o.length;r++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[r])}))?o.splice(r--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var d=l();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,l,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,n,s=o[0],i=o[1],r=o[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(r)var u=r(a)}for(t&&t(o);d<s.length;d++)n=s[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(5205)}));o=a.O(o)})();
//# sourceMappingURL=app.d413fe04.js.map